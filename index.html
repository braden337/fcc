<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.rawgit.com/isagalaev/highlight.js/master/src/styles/dracula.css">

<style>
  
  body {
    background-color: hsla(200, 10%, 75%, 1);  
  }
  
  #header {
    background-color: hsla(161, 50%, 35%, 1);
    color: white;
    padding: 25px 0;
  }
  
  #content {
    background-color: white;
    padding: 25px 0;
  }
  
  #footer {
    background-color: hsla(200, 10%, 75%, 1);
    padding: 100px 0;
  }
  
  .love {
    /*margin: 100px 0;*/
  }
  
  .love > small{
    font-style: italic;
  }
  
  .love > small > span {
    color: hsla(10, 50%, 50%, 1);
    font-size: 1.5rem;
  }
  
  pre {
    overflow: auto;
    word-wrap: normal;
    white-space: pre;
  }
  
</style>


<div id="main" class="container-fluid">

  <div id="header" class="row">
  
    <h2 class="text-center">Pig Latin Translator</h2>
  
  </div> <!--/#header.row-->
  
  <div id="content" class="row">
    
    
    
    <div class="col-md-6 col-md-offset-3">
      
      <form id="translator" class="text-center">
        <div class="form-group">
          <!--<label for="input">Email address</label>-->
          <input type="text" class="form-control">
        </div>
        <button type="submit" class="btn btn-default">Translate</button>
      </form>
      
      
      <pre class="javascript"></pre>
      
    </div>
  </div> <!--/#content.row-->
  
  <div id="footer" class="row">
    <div class="col-md-10 col-md-offset-1 col-xs-12 col-xs-offset-0">
      
      <div class="love text-center">
        <small>Made with <span>&hearts;</span> by <a target="_blank" href="https://github.com/braden337">Braden</a></small>	
      </div>
  
    </div>
  </div> <!--/#footer.row-->


</div> <!--/#main.container-fluid-->





<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/highlight.js/9.1.0/highlight.min.js"></script>


<script>
  function translate(word) {
    var vowels = 'aeiou';
    if (vowels.indexOf(word.split('')[0]) != -1)
      word += 'way';
    else {
      word = word.split('');
      var vowelsPresent = word.filter(function(x) {
        return vowels.indexOf(x) != -1;
      });
      var firstVowel = word.indexOf(vowelsPresent[0]);
      var end = word.splice(0, firstVowel)
                    .concat('ay'.split(''));
      word = word.concat(end).join('');
    }
    return word;
  }
  
  function translateWord(e) {
    e.preventDefault();
    $('#header h2').text(translate($('input').value()));
  }

  function highlight() {
    $('pre').each(function(i, block) {
      hljs.highlightBlock(block);
    });
  }
  
  function displayCode(data) {
    $('.javascript').text(data);
    highlight();
  }
  
  var url = "https://raw.githubusercontent.com/braden337/freecodecamp/master/front-end/intermediate-algorithms/pig%20latin.js";
  
  var settings = {
    contentType: 'text/plain',
    success: displayCode
  };
  
  $(document).ready(function() {
    $.ajax(url, settings);
    $("#translator").submit(translateWord(e));
  });


</script>
